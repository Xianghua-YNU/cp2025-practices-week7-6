# SymPy 绘图实验报告

## 一、实验信息

- 小组名称：第六组
- 成员：刘睿 何芳州 刁正勇 李尚金
- 实验日期：2025年4月9日

---

## 二、实验目的

- 熟悉SymPy的plot、plot_implicit、和plot3d_parametric_surface函数；
- 掌握曲线、隐函数和参数曲面的绘制方法。

---

## 三、实验内容与方法

分别说明三个问题的具体绘图方法和使用的函数接口。
 
1.  problem1 函数：
- 绘图方法：绘制函数 cos(tan(pi*x)) 在区间 [-1, 1] 上的图像。它先定义符号变量 x ，构建数学表达式 sp.cos(sp.tan(sp.pi * x)) ，然后使用 plot 函数来绘制该表达式的图形。
- 使用的函数接口： plot 函数，它是 sympy.plotting 模块中的函数。其主要参数包括要绘制的表达式 expr ，以及变量 x 的取值范围 (x, -1, 1) ，还可以通过 xlabel 、 ylabel 和 title 参数分别设置 x 轴标签、 y 轴标签和图形标题。
 
2.  problem2 函数：
- 绘图方法：绘制隐函数 e^y + cos(x)/x + y = 0 的图形。为避免 x = 0 时的除零错误，选择 x 从 0.1 开始取值。先定义符号变量 x 和 y ，构建隐函数表达式 sp.exp(y) + sp.cos(x)/x + y ，然后使用 plot_implicit 函数来绘制隐函数的图形。
- 使用的函数接口： plot_implicit 函数，同样来自 sympy.plotting 模块。它的参数有隐函数表达式 expr ，变量 x 的取值范围 (x, -10, 10) ，变量 y 的取值范围 (y, -10, 10) ， xlabel 、 ylabel 、 title 用于设置轴标签和标题， points 参数设置绘图时的采样点数为 500 ，以控制绘图的精度。
 
3.  problem3 函数：
- 绘图方法：绘制三维参数曲面，通过参数 s 和 t 定义了 x 、 y 、 z 的表达式 x = sp.exp(-s)*sp.cos(t) ， y = sp.exp(-s)*sp.sin(t) ， z = t ，然后使用 plot3d_parametric_surface 函数来绘制该三维参数曲面的图形。
- 使用的函数接口： plot3d_parametric_surface 函数，属于 sympy.plotting 模块。其参数包括 x 、 y 、 z 的参数表达式，参数 s 的取值范围 (s, 0, 8) ，参数 t 的取值范围 (t, 0, 5*sp.pi) ， xlabel 、 ylabel 、 zlabel 用于设置三个轴的标签， title 用于设置图形的标题 。

---

## 四、实验结果与分析

### 问题1: 函数曲线 $\cos(\tan(\pi x))$ 绘制结果
*(插入图片或截图并简要分析曲线特点)*
![image](https://github.com/user-attachments/assets/a3b266b5-c6e0-492b-b85c-11365e485b82)
该曲线关于y轴对称，中间变化相对两侧变化较缓
### 问题2: 隐函数曲线 $e^y + \frac{\cos x}{x} + y = 0$ 绘制结果
*(插入图片或截图并简要分析隐函数曲线特点)*
![image](https://github.com/user-attachments/assets/d547a776-4b5e-45eb-af14-3c9672b21df0)
该曲线呈现中心对称，靠近原点附近变化相当剧烈，趋于无穷，x的绝对值取值越大，变化越平缓
### 问题3: 参数曲面绘制结果
*(插入图片或截图并简要分析三维曲面的特点)*
![image](https://github.com/user-attachments/assets/a655f298-87fc-4aa1-979c-2bfbe7bfa77f)

该图像呈现三维螺旋状

---

## 五、实验总结与讨论

- 通过本实验你掌握了哪些绘图技巧？
  答：我学会了：
1. 基本函数绘图：学会了使用 sympy 库中的 plot 函数来绘制显式函数的图像。例如，对于函数 cos(tan(pi*x)) ，通过定义符号变量 x ，构建数学表达式，然后指定 x 的取值区间，就可以轻松绘制出函数在该区间内的图像。同时，还可以设置 xlabel 、 ylabel 和 title 等参数，使图形更加清晰易读，方便对函数进行可视化分析。
2. 隐函数绘图：利用 plot_implicit 函数可以绘制隐函数的图形。在处理隐函数 e^y + cos(x)/x + y = 0 时，需要注意避免因表达式中的分母为零等情况导致的错误，合理选择绘图区间（如让 x 从 0.1 开始）。并且通过设置 points 参数来调整采样点数，提高绘图的精度，使隐函数的图形更加准确地呈现。
3. 三维参数曲面绘图：使用 plot3d_parametric_surface 函数实现了三维参数曲面的绘制。通过定义参数 s 和 t ，以及它们对应的 x 、 y 、 z 的表达式，指定参数的取值范围，能够创建出复杂的三维曲面图形。同样，设置轴标签和标题等参数有助于更好地理解和展示三维图形的信息。
  
- 实验中你遇到了哪些问题？如何解决？
1. 除零错误问题：在绘制隐函数 e^y + cos(x)/x + y = 0 时，由于表达式中存在 cos(x)/x 这一项，当 x = 0 时会出现除零错误。
- 解决方法：通过分析函数的特点，合理选择绘图区间，让 x 从 0.1 开始取值，避免了 x = 0 的情况，从而成功绘制出隐函数的图形。
 
2. 图形精度问题：在一些复杂函数或曲面的绘图中，默认的绘图精度可能无法准确呈现函数的细节，导致图形看起来不够精确。
- 解决方法：对于这种情况，通过调整 plot_implicit 函数中的 points 参数（如设置为 500 ），增加采样点数，提高了绘图的精度，使图形更加细腻准确地展示函数或曲面的特征。

- 你对SymPy的绘图功能有什么建议或意见？
1. 增强错误提示：当出现绘图错误（如除零错误、参数设置不当等）时，希望 sympy 库能够提供更详细、具体的错误提示信息，帮助用户更快地定位和解决问题。目前的错误提示有时不够直观，需要用户花费较多时间去排查问题所在。
2. 优化绘图性能：在处理复杂函数或大采样点数的绘图时，绘图速度可能会较慢。建议对绘图算法进行优化，提高绘图效率，尤其是在绘制大规模数据集或高维度图形时，减少用户的等待时间。
3. 增加交互性：为绘制的图形增加更多的交互功能，例如可以在图形上进行缩放、平移、旋转等操作，方便用户从不同角度观察和分析图形。目前的绘图功能相对静态，缺乏这种灵活的交互性，限制了用户对图形的深入探索。
4. 提供更多的绘图样式和主题：允许用户自定义图形的颜色、线条样式、标记样式等，并且提供多种预设的绘图样式和主题，使绘制的图形更加美观和个性化，满足不同用户在不同场景下的需求。

---

## 六、参考文献

- SymPy官方文档：https://docs.sympy.org/latest/modules/plotting.html
